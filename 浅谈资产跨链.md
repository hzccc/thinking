*未经许可，禁止转载*



# 浅谈资产跨链

资产交换是加密世界的第一需求。也是行业发展的源动力。

随着区块链浪潮席卷全球，持续影响人类社会商业文明。一方面带来了原生加密资产的持续爆发，另一方面也带来了真实世界商业资产加密化的指数级增长。当前的加密世界呈现出三个趋势：

- 多样化

  自比特币诞生以来，各类竞争链、创新链层出不穷。链级Coin在不断增加，链上原生Token不断出现，还有各类许可链、私有链带来的各种各样的资产上链源源不断。这在可预见的未来持续爆发。

- 垂直化

  由于用户需求的多样化、区块链扩展性的限制，公有链会趋向垂直分工，每条公有链都有主打特色功能满足用户特定需求。而许可链本身就是为特定利益联盟、特定细分需求、特定行业领域而服务，已自动垂直化。

- 碎片化

  当前绝大多数链与链之间由于技术、社区、生态、竞争等原因无法连结互通。这带来了用户、资产、应用、数据的割裂。用户需求无法进一步得到满足。譬如无法使用BTC参与ETH的DEFI生态，无法使用ETH实现匿名隐私等等。

当下已进入了万物皆资产、资产即价值、价值即可交易的时代。若链与链之间无法突破隔离，无法建立有序连接、无法进行资产跨链、自由流动、低摩擦互换，则无法实现区块链价值物联网的愿景。

## 资产跨链的商业价值

资产跨链流通、自由交互在商业上给网络和用户带来了三个显著的价值：

- 资产交换

  资产跨链给资产交换带来安全和透明。用户可以基于链上匿名省份，在加密世界自由进行资产交换，不需要KYC、不需要中心化审核、不需要信任第三方、不会买到假资产、资产也不会被挪用占用，资产控制权永远掌握在用户自己手里。

- 扩展协作

  链和链之间可以有所分工，各自专注于专业化和垂直化，以独特功能服务好用户。彼此之前通过跨链的方式进行协作互补。从全面竞争转向开放协作，全面提升网络价值和网络效应。譬如BTC发挥数字黄金作用，流入其他链作为基础货币发挥价值存储作用，Libra可以进入其他链平台发挥交易媒介作用，Zec可以帮助其他链增强隐私功能，等等。

- 开放金融

  基于跨资产的融合将会带来开放金融应用更广阔的前景。当下开放金融应用被认为是区块链最具备爆发力的场景之一。但当前受限与链与链之间割裂，开放金融应用受困于单资产和单一用户群。无法低摩擦进行扩展。譬如以太坊的MakerDao应用，当前受限于只能使用ETH或ERC20 Token作为抵押物，并且只能服务以太坊用户。由于BTC无法支持智能合约，所以MakerDao无法部署于BTC。另外为了服务EOS用户，MakerDao需要再在EOS链上重新部署一套MakerDao智能合约。这个是完全隔离的世界。如果有资产跨链，这一切就会变得非常不一样。一个应用只需部署一次，通过资产跨链可以使用所有资产，同时为所有链的用户提供服务。

## 资产跨链的技术概览

### 技术本质

所谓资产跨链，并不是“真的”跨链。以BTC跨链到以太坊为例，所有技术方案要实现的目标不是通过在比特币和以太坊之间建立直观的连接，将真正的BTC路由到以太坊上，这无法实现。因为，所谓的Coin或Token本质上都是一种加密数学表示，并且只能依附于当前（同构类相对容易）宿主链上。比特币和以太坊是两套异构的链，他们的数据结构和网络上下文均不一样，无法直接无损转换。

资产跨链的过程，其实是可以拆分为映射资产的发行和销毁。

要进行跨链的资产在源链上进行安全锁定，再在目标链上发行等额的映射资产，这是资产跨链出去，也是映射资产的发行过程。在目标链上销毁映射资产，再在源链上进行资产解锁，这是资产跨链回来。在这两个过程中，技术方案的目标是使得锁定-发行、销毁-解锁的安全原子性。

**简而言之，资产跨链的本质是严格100%的安全透明映射。**



资产跨链的技术方案可以简单分为两类，中心化方案和去中心化方案。

### 中心化方案

商业机构或中心化组织以信誉或资产担保，承担跨链中介，通过中心化记账系统完成资产跨链过程的资产锁定发行和销毁解锁过程。典型如交易所的币币兑换，用户从BTC钱包充值BTC到交易所，在交易所将BTC兑换成ETH，再将交易所的ETH提现到用户ETH钱包，这也是完整资产跨链过程。

中心化方案依赖人的信任。资产跨链过程对于用户而言是黑盒，不透明不受控。只要资产存留在中心化系统中，就会有假资产、资产挪用、资产占用、无法足额映射等风险。控制权不属于用户。

### 去中心化方案

相对于中心化方案对人对信任。去中心化方案要求去除人的中介，力求以去中心化技术来承担中介，强调对密码学安全的信任，做到严格的100%安全透明映射。

在具体技术实现方案上，链和链之间互相独立，无法建立直接连接，链之间无法直接感知对方状态变更。因此需要搭建通信桥梁。在通信桥梁选择上，也有去中心化程度不同的选择。通常来说分为三大类：

#### 哈希锁定

哈希锁定是一种原子互换技术。它通过哈希时间锁的方式对交易参与双方实现资产锁定与托管。它的实现模式上需要交易双方严格的参与流程，苛刻的时间要求锁定要求，和要求端到端通信，但交易双方完成交易流程，跨链资产立即原子互换。它完全去中心化、安全、透明、无第三方参与。

#### 见证人

见证人是一种多中心或弱中心的模式。相对于中心化方案对单方的信任，见证人模式选择相信多方信任。它选择一个多方委员会，对于跨链过来的消息，只要多数验证人同意即可执行。即是信任多数验证人的安全。跨链过程资产交由多个见证人共同托管。见证人模式的资产跨链安全和透明相对中心化方案有了较大提升。并且对交易双方较为友好，具体实现上也较为简单。因此该模式得到了广泛应用。但其本质上还是依赖对人的信任。另外也有方案是在该模式下进一步将见证人规模分布式化，秘密化，以进一步提高去中心化程度，但也带来了更好的复杂度。

#### 轻节点式侧链中继

所谓轻节点，是指通过输入较少量数据和较小计算资源即可获得安全和正确反馈的一种验证方式。在资产跨链领域运用主要在对跨链区块头和交易证明的验证上。

在该方案中，主要由资产跨链双方互埋对方轻节点实现，再加上中继作为通信桥梁，进行双向通知。正是由于双向轻节点的去信任验证功能，可以做到对中继的去信任化。轻节点的实现中采用和原链一致的共识验证算法，对原链所有区块头进行验证，并通过交易根和交易签名来验证数据安全性，在资产跨链过程用户资产也是托管于轻节点，没有第三方的参与，无需对第三方信任，做到原链最高级别安全。锁定-发行、销毁-解锁过程完全采用跨链证明来自动执行，完全去信任化。 

**总的来说，在资产跨链的技术方案选择上，双向的轻节点式侧链中继是最优方案，其次是见证人方案。**

### 其他自由组合

如果将资产跨链拆解为两部分：资产托管、交易证明。可以不限于上文所述两大分类，针对资产托管和交易证明根据不同安全要求、实现难度、业务场景需要，选择不同的技术组合。

#### 资产托管

轻节点合约、多签合约、多签地址、分布式密钥地址、单私钥等。

#### 交易证明

共享安全、侧链中继、多见证人、单私钥等。



## 资产跨链不可能三角

尽管资产跨链技术方案有众多选择，同时业内也在继续探索新的技术。但依然有诸多瓶颈和限制，一般而言在具体实施会遇到**去中心化、安全性、易用性**三难问题，需要多方权衡。

- 去中心化

  完全的去中心化是技术极限，也是技术的制高点。一般来说，去中心化程度越高，去信任化程度也会越高，也会相应更安全。因此在选择区块链方案时，会尽可能选择去中心化程度高的方案。

  但需要注意的是，去中心化程度并不完全等同于安全性。选择高度去中心化的方案也具备高度复杂性。以去中心化程度最高的双向轻节点侧链中继为例，复杂性一方面体现在轻节点带来的稳定性隐患，稳定性隐患会消耗安全性，因为毕竟是两条链之间的双向契定，其中一端的变更必须同步变更另一端，否则会极大影响另一端。另一方面体现在用户体验上，用户需要在所有跨链端均有账户及相关跨链操作技能才能正确携带跨链信息，这对普通用户有极高的门槛，在易用性上大打折扣。另外中心化越高反而机制会更简单，这降低了操作失败的机会以及总安全成本。

  高度去中心化的方案在实施时也会遇到很大的挑战。因为需要跨链两端均具备同样跨链条件。以去中心化程度最高的轻节点双向轻节点侧链中继为例，该方案需要很强的智能合约表达能力，所以它在现有大多数公链上无法实施。譬如BTC无智能合约功能，以太坊虽有智能合约但表达功能太弱无法在链上实现轻节点。因此在与此类链进行资产跨链时只能退而求其次选择单向轻节点或见证人模式，譬如ChainX的XBTC产品。

- 安全性

  资产安全对用户而言非常重要，对于资产托管安全，尽可能选择高安全的轻节点合约、多签合约的方式，退而求其次可以选择多签地址的方式。单方托管是安全性极低的方式。但安全性越高，用户易用性就越低。在小额或实时要求高的场景里，用户反而会喜欢选择最低安全的单方托管但体验最好的跨链方式。

- 易用性

  大多数普通用户无法理解公私钥、更无法理解资产跨链。原生态的跨链体验往往具有复杂的账户体系和跨链操作。一般而言，大部分用户只需要简单流畅的用户体验，而安全性交给对商业机构的信用背书。以现有的技术方案来说，极简的用户体验往往伴随着安全性的下降。

  

因此，是用户体验至上、还是安全第一、还是去中心化最重要？三者暂不可兼得，需要结合具体需求认真考量。



## 跨链BTC产品

比特币的诞生开创了一个新时代，是新世界的奠基石。是当前加密行业的创新源泉。也因为比特币，才有了区块链，才给世界带来了更多可能性。

然儿如果只从技术角度去考量，比特币是一门非常古老的技术流派。老到可以称为远古时期。技术上的简单带来了极致的稳定。稳定带来了流量带来了大众意识。但稳定也带来了止步不前。有很多聪明的头脑想尽办法带来新想法给其添砖加瓦，但都徒劳无功，最终只能另辟蹊径。即使作为开发者想在比特币上进行二次开发，也会发现颇为困难，因为其技术生态支持和其他加密生态相比已经有巨大的差距。

比特币从技术上已无进化可能，不具备创新土壤。但从商业角度，比特币依然拥有最大的商业惯性力量。它在加密生态中的市场价值、流动价值、商业价值、用户基础等方面依然无法替代。

因此，如何通过跨链技术，使得比特币资产可以进入新的创新用户场景、使得比特币资产具备新技术能力（如智能合约能力、互操作能力等）一直是业界一个重要的产品创新探索方向。

下文简单概述市面上几种跨链BTC产品。

### XBTC

跨链项目ChainX推出的跨链BTC产品。ChainX基于Substrate技术，自带区块链3.0时代的创新基因。对轻节点、运行时计算有强大支持。因此，对跨链天然友好。

ChainX在去中心化资产跨链领域一度走在市场前列。上线之初极短时间内跨链BTC价值就突破千万美金，跨链BTC数量也快速超越闪电网络BTC数量。已是事实上比特币最大的侧链和二层网络。同时，也由于ChainX的跨链技术的去中心化特性，推动了市场多款主流BTC钱包对OP_RETURN的广泛支持，OP_RETURN是比特币进入去中心化跨链时代的必备条件。这让市场重新回归到对资产跨链去中心化的关注，也为比特币未来更广泛的去中心化跨链打下坚实基础。

在技术上，XBTC采用的是去中心化程度较高的轻节点式侧链中继和见证人想结合的方案。ChainX在链上使用Wasm技术首次实现比特币轻节点，支持比特币区块头的POW验证和完整的交易证明验证，使得在比特币到ChainX方向的跨链完全实现去中心化和比特币式安全。用户XBTC资产完全由比特币轻节点托管和验证。锁定-发行过程完全自动化安全化。在ChainX链向比特币链跨链方向上，由于比特币不具备图灵完备能力，无法在链上实现完整轻节点，故只能折衷采用见证人模式，由多位验证人通过链上多数派投票完成销毁-解锁流程。用户BTC资产托管于比特币多签地址，由最多15位各自独立具备背书的信托人共同托管。同时，比特币多签托管也实现了硬件级别的冷热分离结构，进一步了提高安全性。冷热多签托管地址完全公开接受社区所有人监督，所有资产变动记录在比特币链上均完全透明，每笔流水变动均能查询到当笔信托签署人。实现了真正的公开、透明和极高的安全保障。简而言之，在当前的跨链技术方案体系下，面对比特币链上客观技术条件，该方案在去中心化、安全性上已是最优解。

### WBTC

WBTC是第一个以足额BTC背书在以太坊平台上发行映射token的产品。社区主导，由多家DEX和DEFI开发商、钱包、中心交易所组成联盟所支持。旨在为以太坊生态注入比特币流动性和交易价值。

WBTC由托管人、兑换商组成。强调信誉、流程、合规和多方制衡。用户资产最终托管于托管人的比特币多签地址中，但托管人不能直接在以太坊上发行映射资产，除非兑换商和托管人腐化勾结。兑换商面向用户需求，执行KYC，处理用户的兑换WBTC要求，接收用户的真实BTC转账，向智能合约初始化申请映射资产，并向托管人转移真实BTC，托管人确认BTC资产后进行人为锁定，批准智能合约的WBTC映射，兑换商得到WBTC，并将映射资产转给用户。反向的销毁-解锁流程由托管人向兑换商发起BTC资产转移，再由兑换商在合约上申请销毁，最后由托管人确认销毁。在跨链过程中，托管人收取铸造和销毁费用，兑换商收取映射资产流通费用。

WBTC虽然在链上公开托管地址以增加公开透明度和安全信心。但终究是以多方角色参与制衡来提升去中心化而不是技术手段。安全是基本以多方信誉来保障。另外用户端参与要求KYC，对于不合规用户既无法参与信任。

### tBTC

类似于WBTC，tBTC也是发行于以太坊平台上使用足额BTC抵押发行映射token的可赎回的产品。tBTC在抗审查、去中介化、去信任化、去中心化和安全性上面做到了跨越式提升。但其借鉴了WBTC和类MakerDao思路，整体是个超额抵押系统，机制极为复杂，非常极客化的开放系统。

在技术上来说，tBTC是个多签地址、超额抵押、随机组合的自动化协议。签名人组由多个签名人组成，是协议中的重要参与方。签名人组提供BTC资产托管地址供用户锁定BTC资产。签名人组由随机网络提供随机种子来选择，签名人需要提供超额资产抵押才能参与资产映射过程。整体过程中，需要用户、签名人的多轮参与，并且有单手金额、等待期等诸多限制。同时，因为超额抵押，所以涉及到了资产价格Oracle和资产利用率问题和各种摩擦。其中复杂非一段话能解释清楚，具体可看[tBTC白皮书](http://docs.keep.network/tbtc/index.pdf)。

tBTC设计上高度复杂，探索了资产跨链技术在去中心化和安全上维度上新高度，但易用性上极其反人性。

### imBTC

钱包厂商imToken推出的BTC资产token化产品。imBTC基于以太坊，采用BTC资产锚定方式发行等量映射token。通过token化，使得BTC资产间接获得以太坊图灵完备能力，可以无缝接入DEFI、DEX等链上闭环应用生态。同时BTC资产的市场价值、流动性价值也进一步扩大。imToken产品一贯有不错的用户体验，imBTC在其产品逻辑设计上也相对友好易用，这也给比特币用户也带来了很多便利。对BTC用户、imToken、比特币是多赢。

在去中心化、安全、易用性的选择上，imBTC当前更倾向选择较好的用户易用性，优先服务用户体验。在技术上而言，当前状态偏向极端中心化。相当于imToken自身以商业信誉作为担保，以品牌来承兑。资产托管是集中托管不公开、锁定-发行和解锁-销毁逻辑不透明，与中心交易所并无大差别。

随着产品成熟和用户资产规模的不断扩大，也许imBTC会在未来的产品演进，在保持优秀的用户体验情况下，进一步提升去中心化、安全性，保障用户资产安全、公开和透明。

### BTCx

BTCx是BTC锚定币的统称。常见于中心化交易所，譬如币安交易所发行的BTCB。

一般来说，都是以中心化机构组织商业信誉担保，采用储备金的方式按等额发行。储备金可以是链上公开，接受审计，或者是托管于第三方专业托管机构，或者是完全不公开，只凭信誉担保。技术上来说，用户资产托管和映射过程几乎完全是黑盒，采用的是彻底的中心化模式，映射资产也一般只用于交易无其他扩展用途。

### 原子互换

原子互换是资产跨链中最为朴素的一种技术。原子跨链的过程由交易双方直接执行，完全去除第三方信任，完全去除交易对手风险。要么资产互换成功，要么失败，用户资产永远安全。

技术上，原子互换一般基于哈希时间锁技术或者多签技术，同时对两条链有所要求，譬如相同的哈希算法和哈希时间锁支持。所以它一般只能应用于同构链之间，譬如比特币和莱特币。

原子互换有彻底的去中心化和极高的安全性，但在易用性上非常糟糕。很难被大规模商用。

## 写在最后

资产跨链是跨链领域的先行试验区。在过去几年业内已经有很多概念创新、理论研究和各类概念验证。当前讨论的大部分跨链技术如多签、轻节点证明、见证人、侧链、中继、分布式密钥、原子互换等方案均不是新事物，在早前已经具备清晰的理论基础。但该领域一直进展缓慢，无长足进步。

其中一种情况是早期行业规模较小，链与链之间彼此对立，以竞争为主旋律，无互联互通诉求。另外一种情况是大部分公链普遍都是异构链，相对于同构链，异构链毕竟数据结构和网络上下文完全不同，实现跨链上技术难度相对较大。同时受限于区块链底层技术的限制，很多链本身的轻节点能力、表达能力也非常有限。这样给去中心化跨链的实施带来了困难。另外三难问题的存在也限制了重大突破产品的面世。

幸运的是，随着区块链底层技术的迭代升级，轻节点技术、强大的智能合约引擎、实用的加密原语已经成为区块链3.0时代公链的标配。这给跨链技术的进一步发展打开了空间。完美解决去中心化、安全性、易用性三难问题的新方案产品应该不远了。



这为未来跨链技术的在重大突破打开空间，有望解决。